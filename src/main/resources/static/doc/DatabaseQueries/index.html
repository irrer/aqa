<div title="Database Queries" class="col-md-8 col-md-offset-1">
    <!--
    Copyright 2021 Regents of the University of Michigan

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
    -->

    <h2>@@title@@</h2>

    <p>
        The AQA software uses an SQL database. This user guide provides sample queries to simplify users' experience. If
        you need a query that is not listed, please contact the site administrator.
    </p>
    <p>
        Examples include the <b>LIMIT 10</b> statement which limits the number of rows returned to 10 to make it more
        appropriate while becoming familiar with the data. Remove or change this to get more data.
    </p>
    <p>
        The AQA software is compatible with both PostgreSQL and Microsoft SQL server databases. The Automated Quality
        Assurance site uses PostgreSQL version 12.5 R5.
    </p>

    <a href="SymmetryFlatnessConstancy.html">Symmetry Flatness Constancy</a>

    <h3>Index</h3>
    <ul>
        <li><a href="#SymmetryFlatnessConstancy">Symmetry Flatness Constancy</a></li>
        <li><a href="#CollimatorCentering">Collimator Centering</a></li>
        <li><a href="#CenterDose">Center Dose</a></li>
        <li><a href="#Wedge">Wedge</a></li>
        <li><a href="#CollimatorPosition">Collimator Position</a></li>
        <li><a href="#LeafPosition">Leaf Position</a></li>
        <li><a href="#VMAT">VMAT</a></li>
    </ul>

    <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <hr/>
    <h3 id="SymmetryFlatnessConstancy"><u>Symmetry, Flatness, and Constancy</u></h3>
    <p>
        Refer to the <a href="../SymmetryAndFlatness/index.html">Symmetry and Flatness</a> user guide for more
        information.
    </p>
    <p>
        The <b>isBaseline_text</b> column is either <b>true</b> or <b>false</b>. If <b>true</b>, it means that this data
        set should be used as a baseline for those that follow it chronologically for the same beam and machine until
        the
        next baseline or the last data set.
    </p>
    <pre>
        &nbsp;
        SELECT
          "institution"."name",
          "machine"."id",
          "machineType"."model",
          "multileafCollimator"."model",
          "output"."dataDate",
          "symmetryAndFlatness"."top_cu",
          "symmetryAndFlatness"."bottom_cu",
          "symmetryAndFlatness"."left_cu",
          "symmetryAndFlatness"."right_cu",
          "symmetryAndFlatness"."center_cu",
          -- If true, then this data set should be used as a baseline for this and
          -- subsequent data sets with the same machine and beam.
          "symmetryAndFlatness"."isBaseline"
        FROM
          public."symmetryAndFlatness",
          public."institution",
          public."machine",
          public."machineType",
          public."multileafCollimator",
          public."output"
        WHERE
              ("symmetryAndFlatness"."outputPK" = "output"."outputPK")
          AND ("output"."machinePK" = "machine"."machinePK")
          AND ("machine"."institutionPK" = "institution"."institutionPK")
          AND ("machine"."machineTypePK" = "machineType"."machineTypePK")
          AND ("machine"."multileafCollimatorPK" = "multileafCollimator"."multileafCollimatorPK")
        ORDER BY
          "machine"."id",
          "output"."dataDate"
        ASC LIMIT 10;
    </pre>

    <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <hr/>
    <h3 id="CollimatorCentering"><u>Collimator Centering</u></h3>
    <p>
        Refer to the <a href="../CollimatorCentering/index.html">Collimator Centering</a> user guide for more
        information.
    </p>
    <pre>
        &nbsp;
        SELECT
          "institution"."name",
          "machine"."id",
          "machineType"."model",
          "multileafCollimator"."model",
          "output"."dataDate",
          "collimatorCentering"."xCollimatorCenter_mm",
          "collimatorCentering"."yCollimatorCenter_mm",
          "collimatorCentering"."X1_090_mm",
          "collimatorCentering"."X2_090_mm",
          "collimatorCentering"."Y1_090_mm",
          "collimatorCentering"."Y2_090_mm",
          "collimatorCentering"."X1_270_mm",
          "collimatorCentering"."X2_270_mm",
          "collimatorCentering"."Y1_270_mm",
          "collimatorCentering"."Y2_270_mm"
        FROM
          public."collimatorCentering",
          public."institution",
          public."machine",
          public."machineType",
          public."multileafCollimator",
          public."output"
        WHERE
              ("collimatorCentering"."outputPK" = "output"."outputPK")
          AND ("output"."machinePK" = "machine"."machinePK")
          AND ("machine"."institutionPK" = "institution"."institutionPK")
          AND ("machine"."machineTypePK" = "machineType"."machineTypePK")
          AND ("machine"."multileafCollimatorPK" = "multileafCollimator"."multileafCollimatorPK")
        ORDER BY
          "machine"."id",
          "output"."dataDate"
        ASC LIMIT 10;
    </pre>

    <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <hr/>
    <h3 id="CenterDose"><u>Center Dose</u></h3>
    <p>
        Refer to the <a href="../CenterDose/index.html">Center Dose</a> user guide for more
        information.
    </p>
    <pre>
        &nbsp;
        SELECT
          "institution"."name",
          "machine"."id",
          "machineType"."model",
          "multileafCollimator"."model",
          "output"."dataDate",
          "centerDose"."beamName",
          "centerDose"."dose"
        FROM
          public."centerDose",
          public."institution",
          public."machine",
          public."machineType",
          public."multileafCollimator",
          public."output"
        WHERE
              ("centerDose"."outputPK" = "output"."outputPK")
          AND ("output"."machinePK" = "machine"."machinePK")
          AND ("machine"."institutionPK" = "institution"."institutionPK")
          AND ("machine"."machineTypePK" = "machineType"."machineTypePK")
          AND ("machine"."multileafCollimatorPK" = "multileafCollimator"."multileafCollimatorPK")
        ORDER BY
          "machine"."id",
          "output"."dataDate"
        ASC LIMIT 10;
    </pre>

    <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <hr/>
    <h3 id="Wedge"><u>Wedge</u></h3>
    <p>
    </p>
    <pre>
        &nbsp;
          SELECT
          "institution"."name",
          "machine"."id",
          "machineType"."model",
          "multileafCollimator"."model",
          "output"."dataDate",
          "wedgePoint"."wedgeBeamName",
          "wedgePoint"."backgroundBeamName",
          "wedgePoint"."wedgeValue_cu",
          "wedgePoint"."backgroundValue_cu",
          "wedgePoint"."percentOfBackground_pct",
          "wedgePoint"."isBaseline"
		FROM
          public."wedgePoint",
          public."institution",
          public."machine",
          public."machineType",
          public."multileafCollimator",
          public."output"
        WHERE
              ("wedgePoint"."outputPK" = "output"."outputPK")
          AND ("output"."machinePK" = "machine"."machinePK")
          AND ("machine"."institutionPK" = "institution"."institutionPK")
          AND ("machine"."machineTypePK" = "machineType"."machineTypePK")
          AND ("machine"."multileafCollimatorPK" = "multileafCollimator"."multileafCollimatorPK")
        ORDER BY
          "machine"."id",
          "output"."dataDate"
        ASC LIMIT 10;
    </pre>

    <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <hr/>
    <h3 id="CollimatorPosition"><u>Collimator Position</u></h3>
    <p>
    </p>
    <pre>
        &nbsp;
        SELECT
          "institution"."name",
          "machine"."id",
          "machineType"."model",
          "multileafCollimator"."model",
          "output"."dataDate",
          "collimatorPosition"."beamName",
          "collimatorPosition"."X1_mm",
          "collimatorPosition"."X2_mm",
          "collimatorPosition"."Y1_mm",
          "collimatorPosition"."Y2_mm",
          "collimatorPosition"."X1_ExpectedMinusImage_mm",
          "collimatorPosition"."X2_ExpectedMinusImage_mm",
          "collimatorPosition"."Y1_ExpectedMinusImage_mm",
          "collimatorPosition"."Y2_ExpectedMinusImage_mm",
          "collimatorPosition"."gantryAngle_deg",
          "collimatorPosition"."collimatorAngle_deg",
          "collimatorPosition"."FloodCompensation", -- true if flood compensation was used
          "collimatorPosition"."XCollimatorCenterOfRotation_mm",
          "collimatorPosition"."YCollimatorCenterOfRotation_mm"
		FROM
          public."collimatorPosition",
          public."institution",
          public."machine",
          public."machineType",
          public."multileafCollimator",
          public."output"
        WHERE
              ("collimatorPosition"."outputPK" = "output"."outputPK")
          AND ("output"."machinePK" = "machine"."machinePK")
          AND ("machine"."institutionPK" = "institution"."institutionPK")
          AND ("machine"."machineTypePK" = "machineType"."machineTypePK")
          AND ("machine"."multileafCollimatorPK" = "multileafCollimator"."multileafCollimatorPK")
        ORDER BY
          "machine"."id",
          "output"."dataDate"
        ASC LIMIT 10;
    </pre>

    <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

    <p style="margin-bottom: 80px;"></p>

</div>
